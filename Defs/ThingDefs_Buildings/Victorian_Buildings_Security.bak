<?xml version="1.0" encoding="utf-8" ?>
<ThingDefs>

  <ThingDef ParentName="BuildingBase" Name="CivilWar_TurretBase" Abstract="True">
	<thingCategories>
      <li>Turrets</li>
    </thingCategories>
		<techLevel>Industrial</techLevel>	
  <thingClass>ThingWithComps</thingClass>
    <altitudeLayer>Building</altitudeLayer>
    <passability>PassThroughOnly</passability>
    <pathCost>70</pathCost>
    <castEdgeShadows>true</castEdgeShadows>
    <useHitPoints>true</useHitPoints>
    <statBases>
      <Flammability>1.0</Flammability>
			<SellPriceFactor>1.10</SellPriceFactor>
    </statBases>
		<repairEffect>Repair</repairEffect>
		<soundImpactDefault>BulletImpactMetal</soundImpactDefault>		
  </ThingDef>
  
 <ThingDef Name="CivilWar_TurretMakeableBase" ParentName="CivilWar_TurretBase" Abstract="True">	

    <recipeMaker>
      <workSpeedStat>SmithingSpeed</workSpeedStat>
      <workSkill>Crafting</workSkill>
      <effectWorking>Smith</effectWorking>
      <soundWorking>Recipe_Smith</soundWorking>
      <recipeUsers>
        <li>TableMachining</li>
      </recipeUsers>
      <unfinishedThingDef>UnfinishedGun</unfinishedThingDef>
    </recipeMaker>	
  </ThingDef>
 
	<ThingDef ParentName="BuildingBase">
		<defName>IndBarbedWire</defName>
		<label>barbed wire</label>
		<thingClass>Building</thingClass>
		<category>Building</category>
		<description>Simple defensive structure that reduces movement and provides no cover.</description>
		<designationCategory>Security</designationCategory>
		<graphicData>
			<texPath>BarbedWire/BarbedWire_Atlas</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<linkType>Basic</linkType>
			<linkFlags>
				<li>Custom2</li>
			</linkFlags>
		</graphicData>
		<designationHotKey>Misc10</designationHotKey>
		<uiIconPath>BarbedWire/BarbedWire_Icon</uiIconPath>
		<blueprintGraphicData>
			<texPath>BarbedWire/BarbedWire_Blueprint_Atlas</texPath>
		</blueprintGraphicData>
		<constructEffect>ConstructMetal</constructEffect>
		<repairEffect>ConstructMetal</repairEffect>
		<altitudeLayer>Building</altitudeLayer>
		<building>
			<isInert>true</isInert>
		</building>
		<statBases>
			<Beauty>-10</Beauty>	
			<MaxHitPoints>225</MaxHitPoints>
			<WorkToMake>200</WorkToMake>
			<Flammability>0</Flammability>
		</statBases>
		<damageMultipliers>
			<li>
				<damageDef>Bomb</damageDef>
				<multiplier>3</multiplier>
			</li>
		</damageMultipliers>
		<costList>
			<Steel>4</Steel>
		</costList>
		<filthLeaving>BuildingRubble</filthLeaving>		
		<passability>PassThroughOnly</passability>
		<pathCost>70</pathCost>
		<pathCostIgnoreRepeat>false</pathCostIgnoreRepeat>
		<castEdgeShadows>true</castEdgeShadows>
		<fillPercent>0.1</fillPercent>
		<coversFloor>false</coversFloor>
		<placingDraggableDimensions>1</placingDraggableDimensions>
		<tickerType>Never</tickerType>
		<rotatable>false</rotatable>
		<selectable>true</selectable>
		<neverMultiSelect>true</neverMultiSelect>
		<holdsRoof>false</holdsRoof>
		<staticSunShadowHeight>0.1</staticSunShadowHeight>
		<blockLight>false</blockLight>
	</ThingDef>  
	
  <!--=============== Field Cannon ===============-->
 <ThingDef ParentName="CivilWar_TurretMakeableBase">
    <defName>FieldCannon</defName>
    <label>field cannon</label>
    <thingClass>Building_TurretGun</thingClass>
    <minifiedDef>MinifiedFurniture</minifiedDef>
    <stealable>false</stealable>
    <graphicData>
      <texPath>Things/Building/FieldCannon_Base</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>(2,2)</drawSize>
      <damageData>
        <rect>(0.2,0.2,0.6,0.6)</rect>
      </damageData>
    </graphicData>
    <altitudeLayer>Building</altitudeLayer>
    <hasInteractionCell>True</hasInteractionCell>
    <interactionCellOffset>(0,0,-1)</interactionCellOffset>
    <statBases>
      <Mass>30</Mass>
      <MaxHitPoints>380</MaxHitPoints>
      <Flammability>1.0</Flammability>
      <WorkToMake>45000</WorkToMake>
      <Beauty>-30</Beauty>
    </statBases>
    <tickerType>Normal</tickerType>
    <comps>
      <li Class="CompProperties_Explosive">
        <explosiveRadius>5</explosiveRadius>
        <explosiveDamageType>Bomb</explosiveDamageType>
      </li>	
      <li Class="CompProperties_Mannable">
        <manWorkType>Violent</manWorkType>
      </li>
      <li Class="CompProperties_Forbiddable"/>
      <li Class="CompProperties_Breakdownable"/>
    </comps>
    <description>3 inch field cannon limbered with wheels. Long range, powerful, but very slow to load. Can be redeployed. Fires cannon shells.</description>
    <size>(2,2)</size>
    <passability>PassThroughOnly</passability>
    <pathCost>50</pathCost>
    <fillPercent>0.4</fillPercent>
    <castEdgeShadows>true</castEdgeShadows>
    <hasTooltip>true</hasTooltip>
    <costList>
      <Steel>175</Steel>
      <Component>2</Component>
    </costList>
    <recipeMaker>
      <workSpeedStat>SmithingSpeed</workSpeedStat>
      <workSkill>Crafting</workSkill>
      <effectWorking>Smith</effectWorking>
      <soundWorking>Recipe_Smith</soundWorking>
      <recipeUsers>
        <li>ElectricSmithy</li>
        <li>FueledSmithy</li>
        <li>TableMachining</li>
      </recipeUsers>
			<researchPrerequisite>Industrial_FieldCannon</researchPrerequisite>		  
      <unfinishedThingDef>UnfinishedGun</unfinishedThingDef>
    <skillRequirements>
      <li>
        <skill>Crafting</skill>
        <minLevel>6</minLevel>
      </li>
    </skillRequirements>
	  </recipeMaker>	
    <terrainAffordanceNeeded>Light</terrainAffordanceNeeded>
    <constructEffect>ConstructMetal</constructEffect>
    <specialDisplayRadius>15</specialDisplayRadius>
    <building>
      <turretShellDef>FCannonShell</turretShellDef>
	  <ai_combatDangerous>true</ai_combatDangerous>
      <turretGunDef>Gun_FieldCannon</turretGunDef>
      <turretBurstwarmupTime>4.5</turretBurstwarmupTime>
      <turretBurstCooldownTime>15</turretBurstCooldownTime>
      <turretTopgraphicPath>Things/Building/FieldCannon_Top</turretTopgraphicPath>
			<buildingTags>
				<li>Artillery</li>
			</buildingTags>	
	  </building>
    <tradeTags>
      <li>Turret</li>
    </tradeTags>	
  </ThingDef>
  
 <!--=============== Gatling Gun ===============-->
  
 <ThingDef ParentName="CivilWar_TurretMakeableBase">
    <defName>GatlingGun</defName>
    <label>gatling gun</label>
    <thingClass>Building_TurretGun</thingClass>
    <minifiedDef>MinifiedFurniture</minifiedDef>
    <stealable>false</stealable>
    <graphicData>
      <texPath>Things/Building/Gatling_Base</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>(2,2)</drawSize>
      <damageData>
        <rect>(0.2,0.2,0.6,0.6)</rect>
      </damageData>
    </graphicData>
    <altitudeLayer>Building</altitudeLayer>
    <hasInteractionCell>True</hasInteractionCell>
    <interactionCellOffset>(0,0,-1)</interactionCellOffset>
    <statBases>
      <Mass>15</Mass>
      <MaxHitPoints>220</MaxHitPoints>
      <Flammability>1.0</Flammability>
      <WorkToMake>40000</WorkToMake>
      <Beauty>-10</Beauty>
    </statBases>
    <tickerType>Normal</tickerType>
    <comps>
      <li Class="CompProperties_Mannable">
        <manWorkType>Violent</manWorkType>
      </li>
      <li Class="CompProperties_Forbiddable"/>
      <li Class="CompProperties_Breakdownable"/>
    </comps>
    <description>Fixed emplacement on wheels. Low range and fairly weak, but considerably fast-firing. Can be redeployed.</description>
    <size>(1,1)</size>
    <passability>PassThroughOnly</passability>
    <pathCost>50</pathCost>
    <fillPercent>0.4</fillPercent>
    <castEdgeShadows>true</castEdgeShadows>
    <hasTooltip>true</hasTooltip>
    <costList>
      <Steel>145</Steel>
      <Component>3</Component>
    </costList>
    <recipeMaker>
      <workSpeedStat>SmithingSpeed</workSpeedStat>
      <workSkill>Crafting</workSkill>
      <effectWorking>Smith</effectWorking>
      <soundWorking>Recipe_Smith</soundWorking>
      <recipeUsers>
        <li>TableMachining</li>
      </recipeUsers>
			<researchPrerequisite>Industrial_FieldCannon</researchPrerequisite>		  
      <unfinishedThingDef>UnfinishedGun</unfinishedThingDef>
    <skillRequirements>
      <li>
        <skill>Crafting</skill>
        <minLevel>6</minLevel>
      </li>
    </skillRequirements>
	  </recipeMaker>	
    <terrainAffordanceNeeded>Light</terrainAffordanceNeeded>
    <constructEffect>ConstructMetal</constructEffect>
    <specialDisplayRadius>38</specialDisplayRadius>
    <building>
      <ai_combatDangerous>true</ai_combatDangerous>
      <turretGunDef>Gun_GatlingGun</turretGunDef>
      <turretBurstwarmupTime>0.8</turretBurstwarmupTime>
      <turretBurstCooldownTime>2.75</turretBurstCooldownTime>
      <turretTopgraphicPath>Things/Building/Gatling_Top</turretTopgraphicPath>
    </building>
    <tradeTags>
      <li>Turret</li>
    </tradeTags>	
  </ThingDef>  

</ThingDefs>